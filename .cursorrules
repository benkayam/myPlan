# חוקי הפרויקט myPlan

## 📝 תיעוד וגיבוי - חובה!

### לפני כל שינוי קוד:
1. ✅ **קרא את README.md** - הבן את המבנה הקיים
2. ✅ **גבה לפני שינויים גדולים** - העתק את הקובץ המקורי ל-`Archive/` עם timestamp

### אחרי כל שינוי קוד:
1. ✅ **עדכן README.md** - תעד מה השתנה:
   - אם שינית פונקציה - עדכן את התיעוד שלה
   - אם הוספת תכונה - הוסף סעיף חדש
   - אם שינית CSS - עדכן את סעיף העיצוב
   - אם שינית HTML - עדכן את סעיף המבנה

2. ✅ **רשום את השינוי** - הוסף בסוף README תחת "היסטוריית שינויים":
   ```
   ### [תאריך] - [שם השינוי]
   - מה השתנה
   - למה
   - באיזה קבצים
   ```

3. ✅ **בדוק עקביות**:
   - הקוד תואם למבנה המתועד?
   - העמודות באקסל עדיין אותו דבר?
   - הצבעים והסטטוסים תואמים?

---

## 🎨 עקרונות עיצוב

- סגנון Apple בלבד - פשוט, נקי, אלגנטי
- צבעים: כחול (#007aff), ירוק (#34c759), כתום (#ff9500), אדום (#ff3b30)
- רדיוסים: 6-12px
- Shadows עדינים
- אנימציות חלקות

---

## 📊 מבנה נתונים - אל תשנה!

**מבנה האקסל:**
- כל גיליון = עובד אחד
- כל שורה = משימה
- עמודות חובה: `תתי-משימה`, `תאריך התחלה`, `תאריך סיום`, `Effort`, `Duration`

**מבנה workbookData:**
```javascript
[{
  name: "שם עובד",
  tasks: [{
    subTask, startDate, endDate, effort, duration, ...
  }]
}]
```

---

## 🔴 זיהוי חפיפות - הלב של המערכת

**האלגוריתם:**
```
Effort_Per_Day = Total_Effort / WorkDays_In_Range
Total_Effort_For_Date = Σ Effort_Per_Day (all active tasks)
if Total_Effort_For_Date > 1.0 → חפיפה!
```

**ימי עבודה:** רק א'-ה' (לא סופי שבוע)

---

## 📁 מבנה קבצים

```
myPlan/
├── dashboard.html    # מבנה HTML
├── dashboard.js      # לוגיקה
├── dashboard.css     # עיצוב
├── README.md         # תיעוד מלא
├── .cursorrules      # הקובץ הזה
└── Archive/          # גרסאות קודמות
```

---

## ⚠️ אזהרות

- ❌ אל תמחק פונקציות קיימות בלי תיעוד
- ❌ אל תשנה את מבנה האקסל הנדרש
- ❌ אל תוסיף dependencies חדשים (מלבד XLSX מ-CDN)
- ❌ אל תשנה את ההיררכיה של CSS classes

---

## ✅ Check-list לפני Commit

- [ ] הקוד עובד (בדקת בדפדפן?)
- [ ] README מעודכן
- [ ] גיבוי נשמר ב-Archive (אם שינוי גדול)
- [ ] לא נשארו console.log מיותרים
- [ ] CSS תואם לסגנון Apple
- [ ] הכל בעברית (למעט קוד)

---

**זכור:** התיעוד זה חלק מהקוד. קוד בלי תיעוד = קוד לא גמור.

