# חוקי הפרויקט myPlan

## 👨‍💻 רמת מקצועיות

**כל מי שעובד על הקוד הזה הוא אלוף אמיתי עם לפחות 5 שנות ניסיון ב-Front End!**

**זה אומר:**
- ✅ קוד נקי, מסודר ו-maintainable
- ✅ Best practices של JavaScript, HTML, CSS
- ✅ Performance optimization (avoid reflows, minimize DOM manipulation)
- ✅ Accessibility (ARIA, semantic HTML)
- ✅ Cross-browser compatibility
- ✅ Progressive enhancement
- ✅ Code reusability ו-DRY principles
- ✅ Error handling מקצועי
- ✅ Comments רק כשצריך (self-documenting code)
- ✅ Modern ES6+ syntax

**אם אתה לא בטוח איך לעשות משהו - תחשוב איך Senior Developer היה עושה את זה!**

---

## 📝 תיעוד וגיבוי - חובה!

### לפני כל שינוי קוד:
1. ✅ **קרא את README.md** - הבן את המבנה הקיים
2. ✅ **גבה לפני שינויים גדולים** - העתק את הקובץ המקורי ל-`Archive/` עם timestamp

### אחרי כל שינוי קוד:
1. ✅ **עדכן README.md** - תעד מה השתנה:
   - אם שינית פונקציה - עדכן את התיעוד שלה
   - אם הוספת תכונה - הוסף סעיף חדש
   - אם שינית CSS - עדכן את סעיף העיצוב
   - אם שינית HTML - עדכן את סעיף המבנה

2. ✅ **רשום את השינוי** - הוסף בסוף README תחת "היסטוריית שינויים":
   ```
   ### [תאריך] - [שם השינוי]
   - מה השתנה
   - למה
   - באיזה קבצים
   ```

3. ✅ **בדוק עקביות**:
   - הקוד תואם למבנה המתועד?
   - העמודות באקסל עדיין אותו דבר?
   - הצבעים והסטטוסים תואמים?

---

## 🎨 עקרונות עיצוב

- סגנון Apple בלבד - פשוט, נקי, אלגנטי
- צבעים: כחול (#007aff), ירוק (#34c759), כתום (#ff9500), אדום (#ff3b30)
- רדיוסים: 6-12px
- Shadows עדינים
- אנימציות חלקות

---

## 📊 מבנה נתונים - אל תשנה!

**מבנה האקסל:**
- כל גיליון = עובד אחד
- כל שורה = משימה
- עמודות חובה: `תתי-משימה`, `תאריך התחלה`, `תאריך סיום`, `Effort`, `Duration`

**מבנה workbookData:**
```javascript
[{
  name: "שם עובד",
  tasks: [{
    subTask, startDate, endDate, effort, duration, ...
  }]
}]
```

---

## 🔴 זיהוי חפיפות - הלב של המערכת

**האלגוריתם:**
```
Effort_Per_Day = Total_Effort / WorkDays_In_Range
Total_Effort_For_Date = Σ Effort_Per_Day (all active tasks)
if Total_Effort_For_Date > 1.0 → חפיפה!
```

**ימי עבודה:** רק א'-ה' (לא סופי שבוע)

---

## 📁 מבנה קבצים

```
myPlan/
├── dashboard.html    # מבנה HTML
├── dashboard.js      # לוגיקה
├── dashboard.css     # עיצוב
├── README.md         # תיעוד מלא
├── .cursorrules      # הקובץ הזה
└── Archive/          # גרסאות קודמות
```

---

## ⚠️ אזהרות

- ❌ אל תמחק פונקציות קיימות בלי תיעוד
- ❌ אל תשנה את מבנה האקסל הנדרש
- ❌ אל תוסיף dependencies חדשים (מלבד XLSX מ-CDN)
- ❌ אל תשנה את ההיררכיה של CSS classes

---

## 🧪 בדיקות - חובה לפני כל שינוי!

### 1. בדיקה תחבירית (Syntax)
```bash
# פתח את Developer Console בדפדפן (F12)
# וודא שאין שגיאות אדומות
```
- ✅ JavaScript תקין (אין syntax errors)
- ✅ CSS תקין (אין parsing errors)
- ✅ HTML תקין (אין broken tags)

### 2. בדיקות פונקציונליות (Unit Tests)
בדוק את הפונקציות הבאות עם דוגמאות:

**טען קובץ אקסל לדוגמה:**
```javascript
// פתח Console ובדוק:
console.log(workbookData); // יש נתונים?
console.log(workbookData[0].tasks.length); // משימות נטענו?
```

**בדוק חישוב ימי עבודה:**
```javascript
const start = new Date('2024-01-01');
const end = new Date('2024-01-05');
console.log(countWorkDays(start, end)); // צריך להיות 5 (א'-ה')
```

**בדוק זיהוי חפיפות:**
```javascript
const employee = workbookData[0];
const overlaps = findOverlappingDates(employee);
console.log(overlaps); // רשימת ימים עם חפיפות
```

**בדוק המרת תאריכים:**
```javascript
const excelDate = 45292; // 01/01/2024
const jsDate = excelDateToJSDate(excelDate);
console.log(jsDate); // Date object תקין?
```

### 3. בדיקות UI/UX
- ✅ הדשבורד נטען ללא שגיאות
- ✅ כפתור "טען קובץ" עובד
- ✅ ציר הזמן מוצג נכון
- ✅ חפיפות מסומנות באדום
- ✅ ניווט בין חודשים עובד
- ✅ Tooltips מופיעים על hover
- ✅ Responsive - עובד במובייל

### 4. בדיקות קצה (Edge Cases)
- ✅ קובץ ריק - מוצג Empty State
- ✅ גיליון ללא משימות - לא קורס
- ✅ תאריכים לא תקינים - מסונן
- ✅ עובד ללא שם - מטפל בזה

---

## ✅ Check-list לפני Commit

- [ ] **בדיקה תחבירית** - אין שגיאות ב-Console
- [ ] **Unit Tests** - כל הפונקציות עובדות
- [ ] **בדיקת UI** - הדשבורד נראה תקין
- [ ] **הקוד עובד** - בדקת בדפדפן עם קובץ אמיתי
- [ ] **README מעודכן** - תיעוד השינויים
- [ ] **גיבוי נשמר** - Archive (אם שינוי גדול)
- [ ] **לא נשארו console.log** - ניקיון קוד
- [ ] **CSS תואם לסגנון Apple** - עיצוב עקבי
- [ ] **הכל בעברית** - למעט קוד

---

## 🔧 כלי בדיקה

### לפתוח Developer Tools:
- **Chrome/Edge:** F12 או Ctrl+Shift+I
- **Firefox:** F12 או Ctrl+Shift+I
- **Safari:** Cmd+Option+I

### טאבים חשובים:
- **Console** - שגיאות JavaScript
- **Network** - קבצים שנטענו
- **Elements** - בדיקת HTML/CSS

---

**זכור:** קוד שלא נבדק = קוד שלא עובד. בדיקות זה חלק מהפיתוח!

